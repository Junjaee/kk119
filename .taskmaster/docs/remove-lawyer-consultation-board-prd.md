# PRD: 변호사 상담 게시판 삭제

## 1. 프로젝트 개요

### 1.1 목적
교권119 시스템에서 변호사 상담 게시판 기능을 완전히 제거하여 시스템을 단순화하고 유지보수성을 향상시킨다.

### 1.2 배경
- 변호사 상담 기능의 활용도가 낮음
- 시스템 복잡성 감소 필요
- 핵심 기능(신고 접수, 커뮤니티, 교권 자료실)에 집중하기 위함

### 1.3 범위
- 프론트엔드: 변호사 상담 관련 UI 컴포넌트 및 페이지 삭제
- 백엔드: 변호사 상담 관련 API 엔드포인트 삭제
- 데이터베이스: 변호사 상담 관련 테이블 및 데이터 정리
- 네비게이션: 메뉴 구조에서 변호사 상담 항목 제거

## 2. 제거 대상 식별

### 2.1 사용자 인터페이스 (UI)
- **대시보드**: 메인 페이지의 "변호사 상담" 섹션
- **네비게이션**: 사이드바의 "변호사 상담" 메뉴 항목
- **페이지**: `/consult` 경로 및 관련 하위 페이지
- **컴포넌트**: 변호사 상담 관련 React 컴포넌트들

### 2.2 백엔드 API
- `/api/consult/*` - 변호사 상담 관련 API 엔드포인트
- 변호사 상담 데이터 처리 로직
- 변호사 상담 관련 미들웨어 및 유틸리티 함수

### 2.3 데이터베이스
- `consultations` 테이블 (존재하는 경우)
- 변호사 상담 관련 외래키 참조
- 변호사 상담 관련 더미 데이터

### 2.4 라우팅 및 권한
- `/consult` 경로 정의
- 변호사 상담 관련 역할 기반 접근 제어
- 미들웨어의 변호사 상담 경로 보호 설정

## 3. 구현 계획

### 3.1 Phase 1: UI 컴포넌트 제거
- **대시보드 정리**
  - 메인 페이지에서 변호사 상담 섹션 삭제
  - 레이아웃 조정으로 빈 공간 최적화

- **네비게이션 업데이트**
  - 사이드바에서 "변호사 상담" 메뉴 항목 제거
  - 메뉴 구조 재정렬

- **페이지 삭제**
  - `/app/consult/` 디렉토리 전체 삭제
  - 관련 하위 페이지 모두 제거

### 3.2 Phase 2: 백엔드 API 정리
- **API 엔드포인트 삭제**
  - `/app/api/consult/` 디렉토리 삭제
  - 변호사 상담 관련 API 로직 제거

- **데이터베이스 스키마 정리**
  - 변호사 상담 관련 테이블 확인 및 제거
  - 외래키 참조 정리
  - 더미 데이터 정리

### 3.3 Phase 3: 라우팅 및 권한 정리
- **라우팅 설정 업데이트**
  - Next.js 라우팅에서 `/consult` 경로 제거
  - 404 페이지로 리다이렉트 설정

- **미들웨어 권한 정리**
  - `middleware.ts`에서 변호사 상담 관련 경로 보호 설정 제거
  - 역할 기반 접근 제어에서 변호사 상담 관련 로직 정리

### 3.4 Phase 4: 코드 정리 및 최적화
- **컴포넌트 정리**
  - 사용되지 않는 변호사 상담 관련 컴포넌트 삭제
  - Import 구문 및 의존성 정리

- **스타일 정리**
  - CSS/Tailwind 클래스에서 변호사 상담 관련 스타일 제거
  - 사용되지 않는 스타일 파일 정리

- **타입 정의 정리**
  - TypeScript 타입 정의에서 변고사 상담 관련 타입 제거
  - 인터페이스 및 타입 정리

## 4. 상세 작업 항목

### 4.1 프론트엔드 작업
1. **메인 대시보드 수정** (`/app/page.tsx`)
   - 변호사 상담 섹션 제거
   - 3-column 레이아웃을 2-column으로 조정

2. **네비게이션 컴포넌트 수정**
   - 사이드바에서 변호사 상담 링크 제거
   - 메뉴 아이콘 및 라벨 정리

3. **페이지 파일 삭제**
   - `/app/consult/` 디렉토리 전체 삭제
   - 관련 layout.tsx, page.tsx 파일 제거

### 4.2 백엔드 작업
1. **API 엔드포인트 삭제**
   - `/app/api/consult/` 디렉토리 삭제
   - 변호사 상담 관련 서버 로직 제거

2. **데이터베이스 정리**
   - 변호사 상담 관련 테이블 구조 확인
   - 더미 데이터에서 변호사 상담 항목 제거

### 4.3 라우팅 및 보안 작업
1. **미들웨어 업데이트** (`middleware.ts`)
   - 변호사 상담 경로 보호 설정 제거
   - `protectedPaths` 배열에서 `/consult` 제거

2. **권한 관리 정리**
   - 변호사 역할 관련 접근 제어 검토
   - 필요시 변호사 역할 자체도 검토

### 4.4 테스트 및 검증 작업
1. **기능 테스트**
   - 변호사 상담 관련 링크가 모두 제거되었는지 확인
   - 404 에러 없이 다른 페이지들이 정상 동작하는지 확인

2. **UI/UX 검증**
   - 레이아웃이 자연스럽게 조정되었는지 확인
   - 네비게이션이 직관적인지 확인

3. **성능 확인**
   - 불필요한 코드 제거로 인한 번들 크기 감소 확인
   - 페이지 로딩 속도 개선 확인

## 5. 예상 효과

### 5.1 긍정적 효과
- **시스템 단순화**: 불필요한 기능 제거로 시스템 복잡도 감소
- **유지보수성 향상**: 관리해야 할 코드베이스 축소
- **성능 개선**: 사용되지 않는 코드 제거로 번들 크기 감소
- **사용자 경험 개선**: 핵심 기능에 집중된 더 직관적인 인터페이스

### 5.2 주의사항
- **기존 사용자**: 변호사 상담 기능을 사용하던 사용자가 있는지 확인 필요
- **데이터 백업**: 삭제 전 변호사 상담 관련 데이터 백업 고려
- **링크 확인**: 외부에서 변호사 상담 페이지로 연결되는 링크가 있는지 확인

## 6. 성공 기준

### 6.1 기능적 성공 기준
- [ ] 메인 대시보드에서 변호사 상담 섹션이 완전히 제거됨
- [ ] 네비게이션에서 변호사 상담 메뉴가 제거됨
- [ ] `/consult` 경로 접근 시 적절한 404 처리됨
- [ ] 다른 모든 페이지가 정상 동작함

### 6.2 기술적 성공 기준
- [ ] 변호사 상담 관련 코드가 모두 제거됨
- [ ] 빌드 에러나 TypeScript 에러가 없음
- [ ] 사용되지 않는 import나 의존성이 정리됨
- [ ] 테스트가 모두 통과함

### 6.3 사용자 경험 성공 기준
- [ ] 레이아웃이 자연스럽게 조정됨
- [ ] 네비게이션이 직관적으로 유지됨
- [ ] 페이지 로딩 속도가 개선되거나 유지됨
- [ ] 전반적인 사용자 경험이 개선됨

## 7. 리스크 및 완화 방안

### 7.1 리스크
- **데이터 손실**: 변호사 상담 관련 중요한 데이터가 삭제될 수 있음
- **기능 의존성**: 다른 기능이 변호사 상담 기능에 의존할 가능성
- **사용자 혼란**: 기존 사용자가 기능 제거로 인해 혼란을 겪을 수 있음

### 7.2 완화 방안
- **데이터 백업**: 삭제 전 전체 데이터베이스 백업 실시
- **의존성 확인**: 코드 분석을 통해 다른 기능과의 의존성 사전 확인
- **단계적 제거**: 기능을 숨기는 것부터 시작하여 점진적으로 제거
- **사용자 안내**: 기능 제거에 대한 사전 안내 (필요시)

## 8. 타임라인

### Week 1: 분석 및 계획
- 현재 변호사 상담 기능 사용 현황 분석
- 코드베이스에서 관련 파일 및 의존성 식별
- 상세 구현 계획 수립

### Week 2: 구현
- Phase 1: UI 컴포넌트 제거
- Phase 2: 백엔드 API 정리
- Phase 3: 라우팅 및 권한 정리

### Week 3: 정리 및 테스트
- Phase 4: 코드 정리 및 최적화
- 기능 테스트 및 UI/UX 검증
- 성능 확인 및 최종 점검

## 9. 결론

변호사 상담 게시판 제거는 교권119 시스템을 더욱 단순하고 유지보수하기 쉬운 형태로 만들어 줄 것입니다. 핵심 기능인 신고 접수, 커뮤니티, 교권 자료실에 집중함으로써 사용자 경험을 개선하고 시스템의 안정성을 높일 수 있을 것으로 예상됩니다.