# 슈퍼어드민 시스템 구현 PRD

## 프로젝트 개요
kk119 교권보호 플랫폼에 4-tier 계정 시스템 (슈퍼어드민, 관리자, 변호사, 교사)을 구현하고, 협회별 차별화된 서비스를 제공하는 슈퍼어드민 관리 시스템을 구축한다.

## 핵심 요구사항

### 1. 계정 시스템 아키텍처 설계
- 4가지 사용자 역할 정의: SUPER_ADMIN, ADMIN, LAWYER, TEACHER
- 각 역할별 권한 매트릭스 설계
- 데이터베이스 스키마 설계 (users, associations, boards, permissions 테이블)
- 계정별 라우팅 및 접근 제어 미들웨어 구현

### 2. 슈퍼어드민 전용 대시보드 구현
- 슈퍼어드민 전용 레이아웃 및 네비게이션
- 실시간 통계 대시보드 (총 사용자 수, 협회별 현황, 게시판 활동)
- 시스템 설정 관리 인터페이스
- 감사 로그 조회 기능

### 3. 계정 생성 관리 시스템
- 관리자 계정 생성 폼 (소속 협회, 권한 범위, 연락처 정보)
- 변호사 계정 생성 폼 (전문 분야, 자격증 정보, 연락처)
- 자동 ID/PW 생성기 및 임시 비밀번호 발급
- 계정 생성 시 이메일/SMS 알림 기능
- 계정 목록 조회 및 상태 관리 (활성/비활성/정지)

### 4. 협회 관리 시스템
- 협회 등록 폼 (협회명, 지역, 연락처, 담당자 정보)
- 협회별 관리자 배정 기능
- 협회 정보 수정 및 삭제 기능
- 협회별 회원 현황 조회
- 협회 상태 관리 (운영중/휴면/폐쇄)

### 5. 게시판 권한 설정 시스템
- 협회별 사용 가능한 게시판 매핑 테이블
- 게시판별 접근 권한 설정 인터페이스
- 권한 템플릿 시스템 (기본형, 프리미엄형, 전체형)
- 실시간 권한 적용 및 검증 시스템

### 6. 관리자 기능 구현
- 소속 협회 교사 목록 조회
- 협회 회원 인증 승인/거부 시스템
- 협회 회원 상태 관리 (대기/승인/거부/정지)
- 협회별 공지사항 관리
- 협회 활동 통계 조회

### 7. 교사 회원가입 시스템 개선
- 협회 선택 드롭다운 (슈퍼어드민이 등록한 협회 목록)
- 협회 회원 인증 대기 상태 표시
- 승인 완료 시 알림 및 추가 게시판 접근 권한 부여
- 협회별 회원 혜택 안내 페이지

### 8. 인증 및 보안 시스템
- 역할 기반 라우트 가드 미들웨어
- 슈퍼어드민 2단계 인증 (OTP)
- 세션 관리 및 동시 로그인 제어
- 민감한 작업에 대한 추가 비밀번호 확인
- 접근 로그 및 감사 추적 시스템

### 9. 알림 및 커뮤니케이션
- 계정 생성 시 자동 환영 메시지
- 협회 승인 상태 변경 알림
- 시스템 공지사항 전파 기능
- 관리자-교사 간 메시징 시스템

### 10. 게시판 차별화 시스템
- 협회별 전용 게시판 생성
- 협회 회원만 접근 가능한 프리미엄 콘텐츠
- 협회별 맞춤형 리소스 제공
- 협회 간 정보 공유 게시판

## 기술 스택 및 구현 방향
- Frontend: Next.js 15, React 19, TypeScript
- Backend: Next.js API Routes
- Database: SQLite (better-sqlite3) + 추후 PostgreSQL 마이그레이션 준비
- Auth: JWT + 세션 기반 하이브리드
- UI: Radix UI + Tailwind CSS
- State Management: Zustand

## 성공 지표
- 슈퍼어드민이 5분 내에 새 협회와 관리자를 등록할 수 있어야 함
- 교사가 협회 회원 승인을 받기까지 24시간 이내 처리
- 협회별 게시판 접근 권한이 실시간으로 반영되어야 함
- 전체 시스템 가용성 99.5% 이상 유지

## 우선순위
1. 높음: 계정 시스템 아키텍처, 슈퍼어드민 대시보드, 협회 관리
2. 중간: 게시판 권한 설정, 관리자 기능, 교사 회원가입 개선
3. 낮음: 고급 알림 시스템, 2단계 인증, 감사 로그

## 제약사항 및 고려사항
- 기존 교사 데이터 마이그레이션 전략 필요
- 점진적 배포를 통한 서비스 중단 최소화
- 개인정보보호법 준수 (관리자의 교사 정보 접근 범위 제한)
- 협회 간 데이터 격리 보안 강화

## 예상 개발 기간
총 3-4주 (15-20 작업일)
- 1주차: 아키텍처 설계 및 데이터베이스 구축
- 2주차: 슈퍼어드민 시스템 및 협회 관리 구현
- 3주차: 관리자 기능 및 권한 시스템 구현
- 4주차: 통합 테스트, 보안 강화, 배포 준비